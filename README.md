# Gareeva-avs-idz4
Гареева Альбина БПИ218, Вариант 10
# Условие: Задача о магазине - 1. 
В магазине работают три отдела, каждый отдел обслуживает один продавец. 
Покупатель, зайдя в магазин, делает покупки в одном или нескольких произвольных отделах, обходя их в произвольном порядке. 
Если в выбранном отделе продавец не свободен, покупатель становится в очередь и засыпает, пока продавец не освободится. 
Создать многопоточное приложение, моделирующее рабочий день магазина.

# ОТЧЕТ 4 балла:
Клиенты и серверы – еще один способ взаимодействия неравноправных потоков. 
Клиентский поток запрашивает сервер и ждет ответа. Серверный поток ожидает запроса от клиента, затем действует в соответствии с поступившим запросом.
В данной программе клиентским потоком выступает покупатель, а серверным - продавец.

По условию потоков продавцов всегда 3.
Количество потоков покупателей может выставляться вручную.
Количество отделов в плане у каждого покупателя может задаваться вручную и генерироваться случайным образом.

Заглавный файл main.cpp имеет два заголовочных класса Seller.cpp, Customer.cpp

Ввод данных в приложение реализован с консоли.

# ОТЧЕТ 5 баллов:
Сценарий, описывающий одновременное поведение представленных в условии задания сущностей в терминах предметной области:
1. Магазин открывается.
2. Каждый продавец (3) открывает свой отдел и ждет покупателей, никак не взаимодействуя друг с другом.
3. Поток покупателей (n) приходят к открытию магазина со своим списком покупок.
4. Каждый покупатель встает в очередь в нужный отдел, не мешая при этом другим в очереди.
5. Как только продавец заканчивает работу с предыдущим клиентом, он принимает следующего, и касса блокируется.
6. Если покупатель обошел все нужные отделы, он покидает магазин.
7. Если покупателей больше нет, то продавец перестает работать.
8. Магазин закрывается.

# ОТЧЕТ 6 баллов:
Обобщенный алгоритм, используемый при реализации программы исходного словесного сценария:
1. Начало работы программы (main)
2. Создание 3-х потоков продавцов + mutex
3. 3 Потока работают параллельно, пока существует хотя бы 1 поток покупателя
4. Поток продавцов ожидает, когда к нему придет значение (while)
5. Поток обрабатывает значение покупателя
6. Создание n потоков покупателей
7. N потоков работает параллельно, пока у покупателя в плане есть хотя бы 1 номер отдела
8. lock mutex i - покупатель проходит к продавцу или ждёт в очереди
9. і-ым значением массива ставит вместо nullptr себя (ставит себя в очередь)
10. Пока продавец не поставит опять nullptr (освобождит кассу), покупатель ждёт
11. unlock mutex і - пускает следующего клиента
12. Если план закончился - завершает поток
13. Join потоков покупателей
14. Join потоков продавцов
15. Завершение программы

Реализован ввод данных из командной строки

# ОТЧЕТ 7 баллов:
В программу добавлены ввод данных из файла и вывод результатов в файл.
Приведены входные и выходные файлы с различными результатами выполнения программы.
Результаты работы программы выводятся на экран и записываются в файл.
Ввод данных из командной строки расширен с учетом введенных изменений.

# ОТЧЕТ 8 баллов:
В программу добавлена генерация случайных данных в допустимых диапазонах.
Приведены входные и выходные файлы с различными результатами выполнения программы.
Ввод данных из командной строки расширен с учетом введенных изменений.
